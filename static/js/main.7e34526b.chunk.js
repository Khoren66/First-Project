(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{46:function(e,t,a){e.exports=a(57)},51:function(e,t,a){},52:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),o=a.n(l),c=(a(51),a(7)),i=(a(52),a(53),a(63)),s=a(62),u=a(17),m=a(20),d=function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,null,[{key:"set",value:function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(n){throw new Error(n.message)}}},{key:"get",value:function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)||null}catch(a){throw new Error(a.message)}}},{key:"remove",value:function(e){try{localStorage.removeItem(e)}catch(t){throw new Error(t.message)}}},{key:"clear",value:function(){try{localStorage.clear()}catch(e){}}}]),e}(),h=function(e){var t=e.changeTab,a=e.tab;return r.a.createElement(i.a,{style:{height:"10vh"},className:"justify-content-between",bg:"dark",variant:"dark"},r.a.createElement(s.a,null,r.a.createElement(s.a.Link,{style:{color:"white"},onClick:function(){return t("HOME")}},r.a.createElement("h3",null,"BlogNews ",r.a.createElement("span",null,"\ud83d\udcf0")))),r.a.createElement(s.a,null,!d.get("token")&&r.a.createElement(s.a.Link,{style:{color:"white"},onClick:function(){return t("LOGIN")}},"Login"),d.get("token")&&"WORKSPACE"!==a?r.a.createElement(s.a.Link,{style:{color:"white"},onClick:function(){return t("WORKSPACE")}},"WorkSpace"):"",d.get("token")&&r.a.createElement(s.a.Link,{style:{color:"white"},onClick:function(){t("LOGIN"),d.clear()}},"Sign out")))},p=a(45),b=a(59),f=function(e){return r.a.createElement(p.a,{style:{margin:"15px",padding:"10px",boxShadow:"5px 10px 18px #888888"}},r.a.createElement(p.a.Header,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(p.a.Title,null,e.post.author," "),r.a.createElement(p.a.Title,null),r.a.createElement(p.a.Title,null,e.post.title)),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Text,null,e.post.description),r.a.createElement(p.a.Text,null,"WORKSPACE"===e.tab&&r.a.createElement(b.a,{onClick:function(){e.remove(e.post)},className:"btn-dark"},"Delete"))))},E=function(){function e(t){Object(u.a)(this,e);var a=t.url,n=t.endpoint;this.endpoint=n,this.url=a,this.fullURL=this.url+"/"+this.endpoint}return Object(m.a)(e,[{key:"getList",value:function(){return fetch(this.fullURL,{})}},{key:"getPostsByID",value:function(e){return fetch(this.fullURL+"/"+e+"/posts",{})}},{key:"getByID",value:function(e){return fetch(this.fullURL+"/"+e,{})}},{key:"signFetch",value:function(e){return fetch("".concat(this.fullURL),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw new Error("Email or Password is incorrect")})).then((function(e){return e})).catch((function(e){console.log("Error",e)}))}},{key:"loginFetch",value:function(e){return fetch("".concat(this.fullURL,"/login"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}}]),e}(),y=function(){function e(t){Object(u.a)(this,e);var a=t.url,n=t.endpoint;this.endpoint=n,this.url=a,this.fullURL=this.url+"/"+this.endpoint}return Object(m.a)(e,[{key:"getList",value:function(){return fetch(this.fullURL,{})}},{key:"getByID",value:function(e){var t=e.id;return fetch(this.fullURL+"/"+t,{})}},{key:"post",value:function(e){return fetch(this.fullURL+"?access_token="+d.get("token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}},{key:"remove",value:function(e){return fetch(this.fullURL+"/"+e,{method:"DELETE"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}}]),e}(),g=new function e(t){var a=t.url;Object(u.a)(this,e),this.posts=new y({url:a,endpoint:"posts"}),this.peoples=new E({url:a,endpoint:"people"})}({url:"https://it-blog-posts.herokuapp.com/api"}),v=function(e){return r.a.createElement("div",{style:{marginBottom:"10px",boxShadow:"5px 10px 18px #888888",borderRadius:"10px",border:"1px solid #babcbd"}},r.a.createElement("div",null,r.a.createElement(p.a.Title,null,e.people.username," ",e.people.lastname)))},k=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)([]),s=Object(c.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){g.posts.getList().then((function(e){return e.json()})).then((function(e){e.reverse(),o(e)}))}),[]),Object(n.useEffect)((function(){g.peoples.getList().then((function(e){return e.json()})).then((function(e){m(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",height:"90vh"}},r.a.createElement("div",{style:{border:"solid gray",overflowY:"scroll",minWidth:"fit-content"}},u.map((function(e){return r.a.createElement(v,{key:e.id,people:e})}))),r.a.createElement("div",{className:"posts",style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{border:"solid gray",overflowY:"auto"}},l.map((function(t){return r.a.createElement(f,{key:t.id,tab:e.tab,post:t})}))),r.a.createElement("div",{style:{backgroundColor:"#343a40"}},r.a.createElement("p",{style:{color:"white"}},"Created By Khoren Ter-Hovhannisyan 2019")))))},w=a(12),O=a(21),j=a(61),C=a(60),x=function(e){var t=e.changeTab,a=Object(n.useState)({}),l=Object(c.a)(a,2),o=l[0],i=l[1],s=Object(n.useState)(!1),u=Object(c.a)(s,2),m=u[0],h=u[1],p=function(e){var t=e.target,a=t.name,n=t.value;i(Object(O.a)({},o,Object(w.a)({},a,n))),console.log(o)},f=function(){h(!1),i({email:"",password:""})};return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(j.a,{style:{marginTop:"50px",padding:"10px",border:"solid 1px",borderRadius:"10px"}},r.a.createElement(j.a.Group,{controlId:"formBasicEmail"},r.a.createElement(C.a,{show:m,onHide:f,animation:!1},r.a.createElement("h3",null,"Email or password is incorrect !!! ",r.a.createElement("span",null,"\ud83d\udd95")),r.a.createElement(C.a.Footer,null,r.a.createElement(b.a,{className:"btn-dark",onClick:f},"Close"))),r.a.createElement(j.a.Label,null,"Email address"),r.a.createElement(j.a.Control,{name:"email",value:o.email,onChange:p,type:"email",placeholder:"Enter email"}),r.a.createElement(j.a.Text,{className:"text-muted"},"We'll never controlshare your email with anyone else.")),r.a.createElement(j.a.Group,{controlId:"formBasicPassword"},r.a.createElement(j.a.Label,null,"Password"),r.a.createElement(j.a.Control,{name:"password",value:o.password,onChange:p,type:"password",placeholder:"Password"})),r.a.createElement("div",{className:"Formbuttons",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(b.a,{onClick:function(){console.log(o),g.peoples.loginFetch(o).then((function(e){if(e.ok)return e.json();throw new Error("Email or Password is incorrect")})).then((function(e){d.set("token",e.id),d.set("userId",e.userId),t("WORKSPACE")})).catch((function(e){h(!0)}))},className:"btn-dark",variant:"primary",type:"button"},"Submit"),r.a.createElement(b.a,{onClick:function(){return t("SIGNUP")},className:"btn-dark",variant:"primary",type:"button"},"Sign Up  ")))),r.a.createElement("div",{style:{backgroundColor:"#343a40",position:"absolute",bottom:0,width:"-webkit-fill-available",height:"7vh"}},r.a.createElement("p",{style:{color:"white",bottom:"0"}},"Created By Khoren Ter-Hovhannisyan 2019")))},S=function(e){var t=e.changeTab,a=Object(n.useState)({}),l=Object(c.a)(a,2),o=l[0],i=l[1],s=function(e){var t=e.target,a=t.name,n=t.value;i(Object(O.a)({},o,Object(w.a)({},a,n)))};return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(j.a,{style:{marginTop:"50px",padding:"10px",border:"solid 1px",borderRadius:"10px"}},r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Name"),r.a.createElement(j.a.Control,{onChange:s,name:"firstname",type:"text",placeholder:"Name"})),r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Label,null,"Lastname"),r.a.createElement(j.a.Control,{onChange:s,name:"lastname",type:"text",placeholder:"Lastname"})),r.a.createElement(j.a.Group,{controlId:"formBasicEmail"},r.a.createElement(j.a.Label,null,"Email address"),r.a.createElement(j.a.Control,{onChange:s,name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(j.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(j.a.Group,{controlId:"formBasicPassword"},r.a.createElement(j.a.Label,null,"Password"),r.a.createElement(j.a.Control,{onChange:s,name:"password",type:"password",placeholder:"Password"})),r.a.createElement(b.a,{onClick:function(){console.log(o),g.peoples.signFetch(o),t("LOGIN")},variant:"primary",className:"btn-dark",type:"submit"},"Submit")),r.a.createElement("div",{style:{backgroundColor:"#343a40",position:"absolute",bottom:0,width:"-webkit-fill-available",height:"7vh"}},r.a.createElement("p",{style:{color:"white",bottom:"0"}},"Created By Khoren Ter-Hovhannisyan 2019")))},N=a(44),L=a(34),T=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)({}),s=Object(c.a)(i,2),u=s[0],m=s[1],h=Object(n.useState)({}),p=Object(c.a)(h,2),E=p[0],y=p[1],v=Object(n.useState)(!1),k=Object(c.a)(v,2),x=k[0],S=k[1];Object(n.useEffect)((function(){var e=d.get("userId");g.peoples.getPostsByID(e).then((function(e){return e.json()})).then((function(e){0!==e.length&&(e.reverse(),o(e))}))}),[]),Object(n.useEffect)((function(){var e=d.get("userId");g.peoples.getByID(e).then((function(e){return e.json()})).then((function(e){e&&y(e)}))}),[]);var T=E.username,I=E.lastname,P=function(){return S(!1)},R=function(e){var t,a=e.target,n=a.name,r=a.value;m(Object(O.a)({},u,(t={},Object(w.a)(t,n,r),Object(w.a)(t,"personId",d.get("userId")),Object(w.a)(t,"author","".concat(T," ").concat(I)),t))),console.log(u)},B=function(e){var t=l.filter((function(t){return t.id!==e.id}));g.posts.remove(e.id),o(t)};return r.a.createElement("div",null,r.a.createElement("div",{className:"main",style:{border:"solid black 1px",margin:"3vh",backgroundColor:"#343a40"}},r.a.createElement("div",{className:"blogger",style:{display:"flex",border:"solid black 1px",borderRadius:"10px",height:"20vh",margin:"3vh",padding:"3vh",justifyContent:"space-between",alignItems:"center",backgroundColor:"white"}},r.a.createElement("div",{className:"name"},r.a.createElement("h3",null,T," ",I)),r.a.createElement("div",{className:"createPost"},r.a.createElement(b.a,{size:"lg",onClick:function(){return S(!0)},className:"btn-dark"},"New Post"))),r.a.createElement("div",{className:"posts",style:{margin:"3vh",height:"51vh",border:"solid black 1px",overflowY:"auto",backgroundColor:"white"}},l.length>0&&l.map((function(t){return r.a.createElement(f,{key:t.id,post:t,tab:e.tab,remove:B,personId:t.personId})})),0===l.length&&r.a.createElement("h2",null,"Create you first post !!!")),r.a.createElement(C.a,{show:x,onHide:P,animation:!1},r.a.createElement(C.a.Header,{closeButton:!0},r.a.createElement(C.a.Title,{name:"author"},T," ",I)),r.a.createElement(L.a,null,r.a.createElement(j.a.Control,{name:"title",onChange:R,placeholder:"Write title"})),r.a.createElement(j.a.Control,{name:"description",onChange:R,as:"textarea",rows:"6",placeholder:"Write text"}),r.a.createElement(C.a.Footer,null,r.a.createElement(b.a,{className:"btn-dark",onClick:P},"Close"),r.a.createElement(b.a,{className:"btn-dark",onClick:function(){g.posts.post(u),o([].concat(Object(N.a)(l),[u])),S(!1)}},"Save Post")))),r.a.createElement("div",{style:{backgroundColor:"#343a40",position:"absolute",bottom:0,width:"-webkit-fill-available"}},r.a.createElement("p",{style:{color:"white",bottom:"0"}},"Created By Khoren Ter-Hovhannisyan 2019")))};var I=function(){var e=Object(n.useState)({tab:"HOME"}),t=Object(c.a)(e,2),a=t[0],l=t[1],o=function(e){l({tab:e})};return r.a.createElement("div",{className:"App"},r.a.createElement(h,{tab:a.tab,changeTab:o}),"HOME"===a.tab&&r.a.createElement(k,{tab:a.tab}),"LOGIN"===a.tab&&r.a.createElement(x,{changeTab:o}),"SIGNUP"===a.tab&&r.a.createElement(S,{changeTab:o}),"WORKSPACE"===a.tab&&r.a.createElement(T,{tab:a.tab,changeTab:o}))};o.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7e34526b.chunk.js.map